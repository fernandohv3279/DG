\documentclass{article}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{graphicx}
\usepackage{xcolor}

\begin{document}

\newcommand{\R}{\mathbb{R}}

\title{HW1 MATH 670}
\author{Fernando}
\date{\today}
\maketitle

\section*{\#1}
\subsection*{(a)}
Consider the charts $(\R,\phi_N)$ and
$(\R,\phi_S)$, where $\phi_N$ and $\phi_S$ are
defined in example 1.15 of the notes (inverse
stereographic projection from the north and south poles
respectively) with the exception that our $\phi_N$ has as its last coordinate
$1-||x||^2$ (the negative of the original).\\
\textbf{Claim:} This collection of charts
works.

\textbf{Proof:}

We have two cases: $\alpha=\beta$ and $\alpha\neq\beta$.
\begin{itemize}
	\item $\alpha=\beta$: This case is probably
		trivial but I will check it anyway.
		Here
		$\phi_\beta^{-1}\circ\phi_\alpha=I:\R^n\to\R^n$,
		then for any point $p$,
		$dI_p:T_p\R^n\to T_p\R^n$ is the
		identity map. Which has determinant
		1.

	\item $\alpha\neq\beta$: WLOG take $\phi_\beta=\phi_N$ and
		$\phi_\alpha=\phi_S$ then (as in page 4 of the notes)
		$(\phi_N^{-1}\circ\phi_S)\vec{x}=\frac{1}{||(x_1,\dots,-x_n)||^2}(x_1,\dots,-x_n)$.
		For convenience let's use the following notation:
		if $x=(x_1,\dots,x_n)$ then $\tilde{x}=(x_1,\dots,-x_n)$. Now if we
		pick the curve $\alpha(t)=p+tv$ we get:
		\begin{align*}
			\left(\frac{\tilde{p}+t\tilde{v}}{||\tilde{p}+t\tilde{v}||^2}\right)'(0)
			&=\left(\frac{\tilde{v}||\tilde{p}+t\tilde{v}||^2-(\tilde{p}+t\tilde{v})\left(2(\tilde{p}+t\tilde{v})\cdot
			\tilde{v}\right)}{||\tilde{p}+t\tilde{v}||^4}\right)(0)\\
			&=\frac{\tilde{v}||\tilde{p}||^2-2\tilde{p}(\tilde{p}\cdot \tilde{v})}{||\tilde{p}||^4}\\
			&=\frac{\tilde{v}||\tilde{p}||^2-2\tilde{p}\tilde{p}^T\tilde{v}}{||\tilde{p}||^4}\\
			&=\frac{||\tilde{p}||^2I-2\tilde{p}\tilde{p}^T}{||\tilde{p}||^4}\tilde{v}\\
			&=\frac{1}{||\tilde{p}||^2}\left(I-\frac{2}{||\tilde{p}||^2}\tilde{p}\tilde{p}^T\right)\tilde{v}\\
			&=\frac{1}{||\tilde{p}||^2}\left(I-\frac{2}{||\tilde{p}||^2}\tilde{p}\tilde{p}^T\right)\text{diag}(1,\dots,1,-1)v.
		\end{align*}

		Then using the Weinsteinâ€“Aronszajn identity (thanks Clay!) and
		since $||x||=||\tilde{x}||$ we can compute the determinant like
		this:

		\begin{align*}
			\bigg|\frac{1}{||p||^2}\left(I-\frac{2}{||p||^2}\tilde{p}\tilde{p}^T\right)\text{diag}(1,\dots,1,-1)\bigg|
&= \frac{-1}{||p||^{2n}}\bigg|\left(I-\frac{2}{||p||^2}\tilde{p}\tilde{p}^T\right)\bigg|\\
&=\frac{-1}{||p||^{2n}}\bigg|\left(1-\frac{2}{||p||^2}\tilde{p}^T\tilde{p}\right)\bigg|\\
&=\frac{1}{||p||^{2n}}.
		\end{align*}
\end{itemize}
% TODO: Change it to be positive!!


\subsection*{(b)}
\section*{\#2}
\section*{\#3}
\textbf{Lemma:} The result is true for $\R$ (case $n=1$).

\textbf{Proof:}

	Since $f$ is continuous $f(M)$ is compact so
	it has a minimum; call it $p$. Take a smooth
	curve
	$\alpha(t):(-\varepsilon,\varepsilon)\to M$
	such that $\alpha(0)=p$ and $\alpha'(0)=v$,
	then $df_p(v)=(f\circ \alpha)'(0)$ by
	definition, but notice that $f\circ\alpha:\R
	\to\R$ is a smooth function with a minimum at
	0. So $(f\circ \alpha)'(0)=0$, hence
	$df_p(v)=(f\circ \alpha)'(0)=0$, so in
	particular the differential is not surjective
	at p (i.e. we have a critical point) and this
	concludes the proof of the lemma.\\
	\textbf{Now for $\R^n$:}

\textbf{Proof:}

	Define the $\pi:\R^n\to\R$ as projection onto
	the first coordinate. Now let's consider
	$\pi\circ f:M\to\R$, this is a smooth map so
	we can apply the Lemma to conclude that there
	is a point $p$ such that $d(\pi\circ f)_p$ is
	not surjective. Using the chain rule this is
	the same as saying $d\pi_{f(p)}df_p$ is not
	surjective; since $d\pi_{f(p)}=e_1^T$ is
	surjective we conclude $df_p$ is not
	surjective, so it is critical.

\section*{\#4}

\subsection*{(a)}
$[X,Y]f=X(Yf)-Y(Xf)=-(Y(Xf)-X(Yf))=-[Y,X]f$.

\subsection*{(b)}
\begin{align*}
[aX+bY,Z]f
&=(aX+bY)(Zf)-Z((aX+bY)f)\\
&=aX(Zf)+bY(Zf)-Z(aXf+bYf)\\
&=aX(Zf)+bY(Zf)-aZ(Xf)-bZ(Yf)\\
&=a(X(Zf)-Z(Xf))+b(Y(Zf)-Z(Yf))\\
&=a[X,Z]f+b[Y,Z]f\\
&=(a[X,Z]+b[Y,Z])f.
\end{align*}

\subsection*{(c)}
\begin{multline*}
(\textcolor{green}{[[X,Y],Z]} +\textcolor{blue}{[[Y,Z],X]} +\textcolor{red}{[[Z,X],Y]})(f)=\\
	\textcolor{green}{[X,Y](Zf)-Z([X,Y]f)}\\
	+\textcolor{blue}{[Y,Z](Xf)-X([Y,Z]f)}\\
	+\textcolor{red}{[[Z,X],Y]f}=\\
\textcolor{green}{XY(Zf)-YX(Zf)-ZX(Yf)+ZY(Xf)}\\
+\textcolor{blue}{YZ(Xf)-ZY(Xf)-XY(Zf)+XZ(Yf)}\\
+\textcolor{red}{[[Z,X],Y]f}=\\
-\textcolor{green}{YX(Zf)-ZX(Yf)}\\
+\textcolor{blue}{YZ(Xf)+XZ(Yf)}\\
+\textcolor{red}{[[Z,X],Y]f}=\\
-\textcolor{orange}{YX(Zf)}-\textcolor{yellow}{ZX(Yf)}\\
+\textcolor{orange}{YZ(Xf)}+\textcolor{yellow}{XZ(Yf)}\\
+\textcolor{red}{[[Z,X],Y]f}=\\
\textcolor{orange}{Y[Z,X]f}-\textcolor{yellow}{[Z,X](Yf)}+\textcolor{red}{[[Z,X],Y]f}=\\
\textcolor{purple}{Y[Z,X]f-[Z,X](Yf)}+\textcolor{red}{[[Z,X],Y]f}=\\
-\textcolor{purple}{[[Z,X],Y]f}+\textcolor{red}{[[Z,X],Y]f}=0.
\end{multline*}

\subsection*{(d)}
\textbf{Lemma:} A vector field $V$ satisfies $V(fg)=fV(g)+gV(f)$. This is equivalent to the definition we saw in class.

\textbf{Proof:}

I will not prove this, it's late :S.\\
\textbf{Now the proof of (d):}
\begin{align*}
[fX,gY]h
&=\\
&=fX(gYh)-gY(fXh)\\
&=fXgYh+fgXYh-gYfXh-gfYXh\qquad(\text{by the lemma})\\
&=fXgYh+fgXYh-gfYXh-gYfXh\\
&=fXgYh+fg(XYh-YXh)-gYfXh\\
&=fXgYh+fg[X,Y]h-gYfXh\\
&=fg[X,Y]h+fXgYh-gYfXh\\
&=(fg[X,Y]+fXgY-gYfX)h.
\end{align*}


\end{document}
